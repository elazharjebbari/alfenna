alias: before-after/wipe
template: "components/core/before_after/wipe/wipe.html"

assets:
  head: []
  css:
    - "/static/components/before-after/wipe.css"
  js:
    - "/static/components/before-after/wipe.js"
  vendors: []

params:
  title: "Avant / Après — Stop-scroll"
  subtitle: "Erreurs fréquentes vs. résultat après formation"
  hint:
    enabled: true
    text: "Faites glisser le bouton vert pour comparer l'avant/après."
    ok_label: "OK"
    storage_key: "ba_hint_wipe_v1"
  before:
    image: "images/landing-page/before_after/avant.jpg"
    alt: "Avant / Après — pieds & ongles enfin sains"
    label: "Avant / Apres"
    pills:
      - { icon: "fa-solid fa-bacteria", text: "Mycose persistante" }
      - { icon: "fa-solid fa-wind",               text: "Odeur gênante" }
      - { icon: "fa-solid fa-burst",               text: "Fissures & démangeaisons" }
  after:
    image: "images/landing-page/before_after/apres.png"
    alt: "Avant / Après — la différence se voit"
    label: "Après"
    pills:
      - { icon: "fa-solid fa-face-frown",        text: "Gêne & honte" }
      - { icon: "fa-solid fa-person-walking-with-cane",      text: "Inconfort à la marche" }
      - { icon: "fa-solid fa-square-minus",  text: "Ongle abîmé" }
  cta: { label: "Je me lance", url: "#program" }
  style:
    bg_color: "#e7f8ee"
    handle_color: "#309255"
    radius: 20
    shadow: true
  options:
    default_value: 30
    snap_points: [ 0, 50, 100 ]

contract:
  optional:
    title: "str"
    subtitle: "str"
    hint:
      enabled: "bool"
      text?: "str"
      ok_label?: "str"
      storage_key?: "str"
    before:
      image: "str"
      alt: "str"
      label?: "str"
      pills?:
        - icon?: "str"
          text?: "str"
    after:
      image: "str"
      alt: "str"
      label?: "str"
      pills?:
        - icon?: "str"
          text?: "str"
    cta?:
      label: "str"
      url: "str"
    style?:
      bg_color?: "str"
      handle_color?: "str"
      radius?: "int"
      shadow?: "bool"
    options?:
      default_value?: "int"
      snap_points?: [ ]

hydrate:
  python: "apps.atelier.compose.hydrators.before_after.hydrators.wipe"
  module: "apps.atelier.compose.hydrators.before_after.hydrators"
  func: "wipe"
  params:
    hint:
      enabled: true
      text: "Faites glisser le bouton vert pour comparer l'avant/après."
      ok_label: "OK"
      storage_key: "ba_hint_wipe_v1"

render:
  cacheable: false
