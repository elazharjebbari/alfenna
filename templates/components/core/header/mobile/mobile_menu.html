{% load static %}
<div class="mobile-menu d-lg-none" id="mobileMenu">
  <a class="menu-close" href="javascript:void(0)" id="mobileMenuClose">
    <i class="icofont-close-line"></i>
  </a>

  <div class="mobile-top d-flex flex-column align-items-start p-3">
    {% if contact.phone_tel and contact.phone_display %}
      <div class="d-flex align-items-center mb-2">
        <i class="fas fa-phone-alt text-success me-2" style="font-size: 18px;"></i>
        <a href="tel:{{ contact.phone_tel }}" class="text-dark fw-semibold">{{ contact.phone_display }}</a>
      </div>
    {% endif %}
    {% if contact.email %}
      <div class="d-flex align-items-center mb-2">
        <i class="fas fa-envelope text-success me-2" style="font-size: 18px;"></i>
        <a href="mailto:{{ contact.email }}" class="text-dark fw-semibold small">{{ contact.email }}</a>
      </div>
    {% endif %}
    {% if contact.address_url and contact.address_text %}
      <div class="d-flex align-items-center">
        <i class="fas fa-map-marker-alt text-success me-2" style="font-size: 18px;"></i>
        <a href="{{ contact.address_url }}" class="text-dark fw-semibold" rel="noopener" target="_blank">
          {{ contact.address_text }}
        </a>
      </div>
    {% endif %}
  </div>

  <div class="mobile-sign-in-up">
    <ul>
      {% if request.user.is_authenticated %}
        <li>
          <a class="menu-toggle" href="#"><i class="fas fa-user-circle"></i> {{ request.user.username|default:"Mon compte" }}</a>
          <a class="dropdown-item" href="#"
             onclick="event.preventDefault(); document.getElementById('logout-form').submit();">
            <i class="fas fa-sign-out-alt"></i> Se d√©connecter
          </a>
        </li>
      {% else %}
        <li>
          <a class="sign-in" href="{{ login_url|default:'#' }}"><i class="fas fa-sign-in-alt"></i> Se connecter</a>
          <a class="sign-up mt-3" href="{{ register_url|default:'#' }}"><i class="fa fa-user-plus"></i> S'inscrire</a>
        </li>
      {% endif %}
    </ul>
  </div>

  <div class="mobile-menu-items">
    <ul class="nav-menu">
      {% for item in menu %}
        <li>
          <a href="{{ item.url|default:'#' }}">{{ item.label }}</a>
          {% if item.children %}
            <ul class="sub-menu mobile-sub-menu ms-3 px-2 text-white">
              {% for sub in item.children %}
                <li><a href="{{ sub.url|default:'#' }}">{{ sub.label }}</a></li>
              {% endfor %}
            </ul>
          {% endif %}
        </li>
      {% endfor %}
    </ul>
  </div>

  <div class="mobile-social">
    {% if socials %}
    <ul class="social">
      {% for s in socials %}
        <li><a href="{{ s.url }}" rel="noopener" {% if s.new_tab %}target="_blank"{% endif %}><i class="{{ s.icon }}"></i></a></li>
      {% endfor %}
    </ul>
    {% endif %}
  </div>
</div>

<div class="mobile-menu-overlay d-lg-none" id="mobileMenuOverlay"></div>
