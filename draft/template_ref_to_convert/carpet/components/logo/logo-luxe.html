{% load static i18n %}

<style>
    /* ===== Brandbar — Noir & Or ===== */
    .brandbar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 1rem;
        max-width: 1120px;
        margin: 10px auto 8px;
        padding: 12px 16px;
        background: var(--surface);
        color: var(--text);
        border: 1px solid var(--bd);
        border-radius: 16px;
        box-shadow: var(--shadow);
    }

    .brandbar.rtl {
        direction: rtl;
    }

    .brandbar.is-shrink {
        transform: translateY(-2px) scale(.985);
        opacity: .98;
        transition: all .18s ease;
    }

    /* Logo (carte scellée) */
    .brandbar__logo {
        display: inline-grid;
        place-items: center;
        inline-size: 64px;
        block-size: 64px;
        border-radius: 14px;
        background: linear-gradient(180deg, rgba(212, 175, 55, .06), rgba(212, 175, 55, .02));
        border: 1px solid var(--bd);
    }

    .brandbar__logo img {
        display: block;
        width: 42px;
        height: 42px;
        border-radius: 8px;
        filter: drop-shadow(0 2px 6px rgba(0, 0, 0, .25));
    }

    .brandbar__logo:focus-visible {
        outline: 3px solid var(--ring);
        outline-offset: 3px;
    }

    /* Métadonnées (tagline + contact) */
    .brandbar__meta {
        display: flex;
        align-items: center;
        gap: .9rem;
        flex-wrap: wrap;
    }

    .brandbar__tagline {
        color: var(--muted);
        font-weight: 600;
        letter-spacing: .2px;
        white-space: nowrap;
    }

    /* Séparateur chevron fin (optionnel) */
    .brandbar__sep {
        width: 1px;
        height: 20px;
        background: var(--bd);
        opacity: .9;
    }

    /* Bouton WhatsApp premium */
    .brandbar__contact {
        display: inline-flex;
        align-items: center;
        gap: .5rem;
        padding: .5rem .75rem;
        border-radius: 999px;
        background: var(--surface-2);
        color: var(--text);
        border: 1px solid var(--bd);
        text-decoration: none;
        transition: filter .15s ease, transform .05s ease, background .15s ease;
    }

    .brandbar__contact i {
        font-size: 1.05rem;
        color: #2bd87f;
        line-height: 1;
    }

    .brandbar__contact strong {
        letter-spacing: .2px;
    }

    .brandbar__contact:hover {
        filter: brightness(1.06);
    }

    .brandbar__contact:active {
        transform: translateY(1px);
    }

    .brandbar__contact:focus-visible {
        outline: 3px solid var(--ring);
        outline-offset: 2px;
    }

    @media (max-width: 576px) {
        .brandbar {
            padding: 10px 12px;
            border-radius: 14px;
        }

        .brandbar__logo {
            inline-size: 56px;
            block-size: 56px;
            border-radius: 12px;
        }

        .brandbar__logo img {
            width: 38px;
            height: 38px;
        }

        .brandbar__tagline {
            font-size: .95rem;
        }

        .brandbar__sep {
            display: none;
        }
    }

    /* RTL : inversions douces */
    {% get_current_language as LANGUAGE_CODE %}
    {% if LANGUAGE_CODE == 'ar' %}
        .brandbar.rtl .brandbar__meta {
            text-align: right;
        }
    {% endif %}

    /* Empêche toute inversion du numéro en RTL */
    .brandbar__phone {
        direction: ltr;
        unicode-bidi: isolate; /* garde le LTR même si le parent est RTL */
        font-weight: 700;
        letter-spacing: .2px;
    }

</style>

<div class="brandbar {% if LANGUAGE_CODE == 'ar' %}rtl{% endif %}">
    <a href="/" class="brandbar__logo" aria-label="{% trans 'Accueil Al-Raha' %}">
        <img src="{% static 'carpet/images/logo/al-raha_500x500.webp' %}" alt="Al-Raha" loading="eager"
             decoding="async">
    </a>

    <div class="brandbar__meta">
        <span class="brandbar__tagline">{% trans "Confort signé Al-Raha" %}</span>
        <span class="brandbar__sep" aria-hidden="true"></span>
        <a href="https://wa.me/212630035905" class="brandbar__contact">
            <i class="fab fa-whatsapp" aria-hidden="true"></i>
            <span class="sr-only">{% trans "Contacter sur WhatsApp" %}</span>
            <bdi class="brandbar__phone" dir="ltr">+212&nbsp;630-035905</bdi>
        </a>

    </div>
</div>
