<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Alfenna — Sticky Buy Bar (Démo 3 variantes)</title>

<style>
  :root{
    --af-teal:#2F4F4D;           /* bouton + accents brand */
    --af-ivory:#F3F7F3;          /* fond buy bar */
    --af-crimson:#C23C54;        /* prix */
    --af-badge-bg:#E6F5EA;       /* pastille econo */
    --af-badge-fg:#2F7D63;
    --af-shadow:0 10px 30px rgba(0,0,0,.12),0 6px 16px rgba(0,0,0,.08);
    --af-radius:12px;
    --af-z:2147483000;
    --af-text:#173236;
  }

  body{
    margin:0; font:400 16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial,'Noto Sans',sans-serif;
    color:var(--af-text); background:#fff;
  }
  .page{
    max-width:920px; margin:0 auto; padding:24px 16px 80px;
  }
  .h1{font:700 20px/1.2 system-ui;margin:0 0 18px}
  .hint{color:#6b7a79;font-size:14px;margin:-10px 0 22px}

  /* ====================== BUY BAR – BASE ====================== */
  .af-buybar{
    position: static;               /* MODE DEMO : pas fixed */
    transform:none; opacity:1;
    display:block; pointer-events:auto;
    margin:18px auto;               /* les 3 barres l’une sous l’autre */
  }
  .af-buybar .af-inner{
    width:clamp(300px, 96vw, 680px);
    margin:0 auto;
    background:var(--af-ivory);
    box-shadow:var(--af-shadow);
    display:flex; align-items:center; gap:.75rem;
    padding:.65rem .75rem;
    border-radius: var(--af-radius) var(--af-radius) 0 0;
  }
  .af-buybar .af-left{ display:flex; align-items:center; gap:.55rem; min-width:0; }
  .af-buybar .af-title{
    font:600 15px/1.2 system-ui;
    color:var(--af-text);
    white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
  }
  .af-ico{
    flex:0 0 36px; height:36px;
    border-radius:10px; border:2px solid var(--af-teal);
    display:grid; place-items:center; background:#fff8;
  }
  .af-ico svg{ width:20px; height:20px; fill:none; stroke:var(--af-teal); stroke-width:2; }

  .af-mid{ display:flex; align-items:center; gap:.5rem; margin-left:auto; }
  .af-price{
    font:700 18px/1 system-ui;
    color:var(--af-crimson);
    letter-spacing:.2px;
  }
  .af-badge{
    background:var(--af-badge-bg);
    color:var(--af-badge-fg);
    font:600 12px/1 system-ui;
    padding:.35rem .5rem; border-radius:999px; white-space:nowrap;
  }

  .af-cta{
    appearance:none; border:0; cursor:pointer;
    background:var(--af-teal); color:#fff;
    font:600 14px/1 system-ui;
    padding:.75rem 1rem; border-radius:12px;
    box-shadow:0 1px 0 rgba(255,255,255,.25) inset,0 4px 10px rgba(0,0,0,.12);
  }
  .af-cta:active{ transform:translateY(1px); }
  .af-close{ display:none } /* pas de dismiss en démo */

  /* ====================== VARIANTES ====================== */

  /* V1 — Full width minimal (recommandée) */
  .af-buybar--fullwidth .af-inner{
    border-radius: var(--af-radius) var(--af-radius) 0 0;
  }

  /* V2 — Compact “pill” (condensée) */
  .af-buybar--pill .af-inner{
    border-radius:999px; padding:.55rem .6rem;
  }
  .af-buybar--pill .af-title{ display:none; }
  .af-buybar--pill .af-price{ font-size:16px; }
  .af-buybar--pill .af-cta{ padding:.55rem .9rem; }

  /* V3 — Bottom-sheet (accent lisibilité) */
  .af-buybar--sheet .af-inner{
    padding:.85rem .95rem;
    border-radius:14px 14px 0 0;
  }
  .af-buybar--sheet .af-title{ font-size:16px; }
  .af-buybar--sheet .af-cta{ font-size:15px; padding:.85rem 1.1rem; }

  /* Déco titres variantes */
  .variant-title{font:700 15px/1 system-ui;margin:22px 0 6px;color:#204344}
  .hr{height:1px;background:#e9efee;margin:16px 0}
  .demo-footer{margin-top:40px;color:#6b7a79;font-size:14px}
  .form-demo{
    border:1px dashed #b4c5c2;background:#f9fbfa;border-radius:12px;
    padding:16px;margin-top:22px;max-width:680px
  }
  .form-demo label{display:block;font-weight:600;margin:0 0 6px}
  .form-demo input{
    width:100%;height:44px;border:1px solid #cfd8d6;border-radius:10px;
    padding:0 12px;font:400 15px/1.2 system-ui
  }
  .form-demo .note{font-size:12px;color:#6b7a79;margin-top:6px}
</style>
</head>
<body>
  <div class="page">

    <h1 class="h1">Alfenna — Sticky “Buy Bar” (démo empilée)</h1>
    <p class="hint">Les 3 variantes sont affichées en même temps (non collées en bas) pour validation visuelle. Le bouton défile vers le mini-formulaire de test.</p>

    <!-- ============ VARIANTE V1 — Full width minimal ============ -->
    <div class="variant-title">Variante V1 — Full width minimal (recommandée)</div>
    <section class="af-buybar af-buybar--fullwidth" aria-label="Barre d'achat – V1">
      <div class="af-inner">
        <div class="af-left">
          <div class="af-ico" aria-hidden="true">
            <svg viewBox="0 0 24 24"><path d="M6 7h12l1.2 12.5a2 2 0 0 1-2 2H6.8a2 2 0 0 1-2-2L6 7Z"/><path d="M8 7V5a4 4 0 1 1 8 0v2"/></svg>
          </div>
          <div class="af-title">Pack 8 pièces — soin antifongique</div>
        </div>
        <div class="af-mid">
          <div class="af-price" aria-label="Prix">347&nbsp;MAD</div>
          <span class="af-badge">−30&nbsp;MAD en ligne</span>
        </div>
        <button class="af-cta" data-af-cta>Je commande le coffret</button>
      </div>
    </section>

    <!-- ============ VARIANTE V2 — Compact “pill” ============ -->
    <div class="variant-title">Variante V2 — Compact “pill”</div>
    <section class="af-buybar af-buybar--pill" aria-label="Barre d'achat – V2">
      <div class="af-inner">
        <div class="af-left">
          <div class="af-ico" aria-hidden="true">
            <svg viewBox="0 0 24 24"><path d="M6 7h12l1.2 12.5a2 2 0 0 1-2 2H6.8a2 2 0 0 1-2-2L6 7Z"/><path d="M8 7V5a4 4 0 1 1 8 0v2"/></svg>
          </div>
        </div>
        <div class="af-mid">
          <div class="af-price">347&nbsp;MAD</div>
          <span class="af-badge">−30&nbsp;MAD en ligne</span>
        </div>
        <button class="af-cta" data-af-cta>Commander</button>
      </div>
    </section>

    <!-- ============ VARIANTE V3 — Bottom-sheet accentuée ============ -->
    <div class="variant-title">Variante V3 — Bottom-sheet (lisibilité forte)</div>
    <section class="af-buybar af-buybar--sheet" aria-label="Barre d'achat – V3">
      <div class="af-inner">
        <div class="af-left">
          <div class="af-ico" aria-hidden="true">
            <svg viewBox="0 0 24 24"><path d="M6 7h12l1.2 12.5a2 2 0 0 1-2 2H6.8a2 2 0 0 1-2-2L6 7Z"/><path d="M8 7V5a4 4 0 1 1 8 0v2"/></svg>
          </div>
          <div class="af-title">Pack 8 pièces — soin antifongique</div>
        </div>
        <div class="af-mid">
          <div class="af-price">347&nbsp;MAD</div>
          <span class="af-badge">−30&nbsp;MAD en ligne</span>
        </div>
        <button class="af-cta" data-af-cta>Je commande le coffret</button>
      </div>
    </section>

    <div class="hr"></div>

    <!-- Mini formulaire de démo (cible de l’ancrage) -->
    <div class="form-demo" data-ff-root>
      <label for="ff-fullname">Nom complet</label>
      <input id="ff-fullname" type="text" placeholder="Ex. Salma Benali" />
      <div class="note">Le bouton “Je commande” fait défiler ici et tente de donner le focus.</div>
    </div>

    <p class="demo-footer">Astuce : si tu veux voir les barres “vraiment sticky”, retire la règle <code>position: static</code> et passe-les en <code>position: fixed</code> (mais pour la comparaison visuelle, la démo les empile).</p>
  </div>

<script>
  // ancre simple vers le formulaire + focus
  (function(){
    function scrollAndFocus(){
      const target = document.querySelector('#ff-fullname') || document.querySelector('[data-ff-root]');
      if (!target) return;
      try { target.scrollIntoView({behavior:'smooth', block:'center'}); }
      catch(_){ target.scrollIntoView(); }
      setTimeout(()=>{ try{ target.focus({preventScroll:true}); }catch(_){ target.focus(); } }, 250);
    }
    document.querySelectorAll('[data-af-cta]').forEach(btn=>{
      btn.addEventListener('click', (e)=>{ e.preventDefault(); scrollAndFocus(); });
    });
  })();
</script>
</body>
</html>
